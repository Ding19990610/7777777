<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../7.20jQuery/jQuery/node_modules/jquery/dist/jquery.js"></script>
</head>

<body>
    <script>
        // function ajax(option) {

        // var xhr = new XMLHttpRequest();
        // xhr.open(method, url, async);
        // xhr.send();
        // // 2.3  处理响应
        // xhr.onreadystatechange = function () {
        //     if (xhr.status == 200 && xhr.readyState == 4) {
        //         // 请求成功
        //         // 获取响应数据
        //         var res = xhr.response;
        //         // 请求成功后，执行成功处理函数
        //         success(res);
        //     } else {
        //         // 请求失败后，执行失败处理函数
        //         //  失败情况多，返回xhr对象
        //         error(xhr)
        //     }
        // }

        // }
        // function ajax(url) {
        //     return new Promise((resolve, reject) => {
        //         $.ajax({
        //             url: url,
        //             method: "get",
        //             success: function () {
        //                 resolve();
        //             }
        //         });
        //     });
        // }
        function ajax(url) {
            return new Promise((resolve, reject) => {
                var xhr = new XMLHttpRequest();
                xhr.open("get",url);
                xhr.send();
                // 2.3  处理响应
                xhr.onreadystatechange = function (data) {
                   
                    resolve(data);
                }
            });
        }
        ajax("http://vebcoder.cn:9527/api/goodList").then(res => {
            console.log(res);
            console.log("获取商品列表");
            return ajax("http://vebcoder.cn:9527/api/goodList?page=1")
        })
    </script>
</body>

</html>